/* Buttons
   ========================================================================== */

/**
 * Remove the inheritance of text transform in Edge, Firefox, and IE 11.
 */

button {
    text-transform: none;
}

/**
 * Remove the inner border and padding in Firefox.
 */

button::-moz-focus-inner,
[type="button"]::-moz-focus-inner,
[type="reset"]::-moz-focus-inner,
[type="submit"]::-moz-focus-inner {
    padding: 0;
    border-style: none;
}

/**
 * 1. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 * 2. Remove browser-specific default styling.
 */

button,
[type="button"],
[type="reset"],
[type="submit"],
a.button,
span.button {
    @include gradient-linear($color-button-gradient-from, $color-button-gradient-to);

    display: inline-block;
    position: relative;
    width: auto;
    height: 2em; // 32px / 16px
    padding: 0.25em 1em; // 4px / 16px
    border: 1px solid $color-button-border;
    border-radius: 1em;
    background-clip: padding-box;
    box-shadow: 0 2px 0 $color-button-shadow;
    color: $color-text-button;
    font-weight: normal;
    text-align: center;
    appearance: none; /* 2 */
    cursor: pointer; /* 1 */
    user-select: none;

    &:hover {
        @include gradient-linear(lighten($color-button-gradient-from, 4%), lighten($color-button-gradient-to, 4%));

        border-color: shade($color-button-border, 15%);
        color: $color-text-button-hover;
        text-decoration: none;
    }

    &:active {
        top: 2px;
        border-color: shade($color-button-border, 15%);
        box-shadow: none;
        color: $color-text-button-active;
        text-decoration: none;
    }

    &:focus {
        border-color: $color-link-focus;
        outline: 2px solid transparent; // Allows for repainting in high contrast modes.
    }
}

@include dark-mode {
    button,
    [type="button"],
    [type="reset"],
    [type="submit"],
    a.button,
    span.button {
        color: $color-text-button;

        &:focus {
            border-color: $dark-color-link-focus;
        }
    }
}

/**
 * Larger buttons.
 *
 * Example HTML:
 *
 * <a class="button button-large">
 */

.button-large,
a.button-large,
span.button-large {
    height: 2.5em; // 40px / 16px
    padding: 0.5em 1em; // 8px / 16px
    border-radius: 1.25em;
}

/**
 * Smaller buttons.
 *
 * Example HTML:
 *
 * <a class="button button-small">
 */

.button-small,
a.button-small,
span.button-small {
    font-size: $small-font-size;
}

/**
 * Success buttons.
 *
 * Example HTML:
 *
 * <a class="button button-success">
 */

.button-success {
    @include gradient-linear(tint($color-success-text, 10%), $color-success-text);

    border-color: shade($color-success-text, 5%);
    box-shadow: 0 2px 0 shade($color-success-text, 33%);
    color: $color-text-white-out;

    &:hover {
        @include gradient-linear(tint($color-success-text, 18%), tint($color-success-text, 8%));

        border-color: shade($color-success-text, 15%);
        color: $color-text-white-out;
    }

    &:active {
        border-color: shade($color-success-text, 15%);
        box-shadow: none;
        color: $color-text-white-out;
    }

    &:focus {
        border-color: $color-link-focus;
    }
}

/**
 * Danger buttons.
 *
 * Example HTML:
 *
 * <a class="button button-danger">
 */

.button-danger {
    @include gradient-linear(tint($color-error-text, 10%), $color-error-text);

    border-color: shade($color-error-text, 5%);
    box-shadow: 0 2px 0 shade($color-error-text, 33%);
    color: $color-text-white-out;

    &:hover {
        @include gradient-linear(tint($color-error-text, 18%), tint($color-error-text, 8%));

        border-color: shade($color-error-text, 15%);
        color: $color-text-white-out;
    }

    &:active {
        border-color: shade($color-error-text, 15%);
        box-shadow: none;
        color: $color-text-white-out;
    }

    &:focus {
        border-color: $color-link-focus;
    }
}

@include dark-mode {
    .button-success,
    .button-danger {
        color: $color-text-white-out;

        &:focus {
            border-color: $dark-color-link-focus;
        }
    }
}

/**
 * Disbaled button additional styling.
 */

button[disabled],
[type="button"][disabled],
[type="reset"][disabled],
[type="submit"][disabled],
.button.disabled {
    top: 0 !important;
    background: $color-background-form-disabled !important;
}

@include dark-mode {
    button[disabled],
    [type="button"][disabled],
    [type="reset"][disabled],
    [type="submit"][disabled],
    .button.disabled {
        background: $color-background-form-disabled !important;
    }
}
