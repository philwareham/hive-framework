@use "../setup";

/* Buttons
   ========================================================================== */

/**
 * Remove the inheritance of text transform in Firefox.
 */

button {
    text-transform: none;
}

/**
 * Remove the inner border and padding in Firefox.
 */

button::-moz-focus-inner,
[type="button"]::-moz-focus-inner,
[type="reset"]::-moz-focus-inner,
[type="submit"]::-moz-focus-inner {
    padding: 0;
    border-style: none;
}

/**
 * 1. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 * 2. Remove browser-specific default styling.
 */

button,
[type="button"],
[type="reset"],
[type="submit"],
a.button,
span.button {
    @include setup.gradient-linear(var(--color-button-grad-from), var(--color-button-grad-to));

    display: inline-block;

    @if setup.$button-box-shadow {
        position: relative;
    }

    width: auto;
    height: auto;
    padding: setup.$button-padding;

    @if setup.$button-border {
        border: setup.$button-border var(--color-button-border);
    }

    @if setup.$button-radius {
        border-radius: setup.$button-radius;
    }

    background-clip: padding-box;

    @if setup.$button-box-shadow {
        box-shadow: setup.$button-box-shadow var(--color-button-shadow);
    }

    color: var(--color-text-button);
    font-weight: 400;
    text-align: center;
    appearance: none; /* 2 */
    cursor: pointer; /* 1 */
    user-select: none;

    &:hover {
        filter: brightness(1.05);
        color: var(--color-text-button);
        text-decoration: none;
    }

    &:active {
        @if setup.$button-box-shadow {
            top: setup.$button-box-shadow-offset-y;
            box-shadow: none;
        }

        filter: brightness(0.95);
        color: var(--color-text-button);
        text-decoration: none;
    }

    @if setup.$button-border {
        &:focus {
            border-color: var(--color-link-focus);
            outline: 2px solid transparent; // Allows for repainting in high contrast modes.
        }
    } @else {
        &:focus {
            outline: 1px solid var(--color-link-focus); // Allows for repainting in high contrast modes.
        }
    }
}

@include setup.dark-mode {
    button,
    [type="button"],
    [type="reset"],
    [type="submit"],
    a.button,
    span.button {
        color: var(--color-text-button);
    }
}

/**
 * Larger buttons.
 *
 * Example HTML:
 *
 * <a class="button button-large">
 */

.button-large,
a.button-large,
span.button-large {
    padding: setup.$button-large-padding;

    @if setup.$button-radius {
        border-radius: setup.$button-large-radius;
    }
}

/**
 * Smaller buttons.
 *
 * Example HTML:
 *
 * <a class="button button-small">
 */

.button-small,
a.button-small,
span.button-small {
    padding: setup.$button-small-padding;
    font-size: setup.$small-font-size;
}

/**
 * Primary buttons.
 *
 * Example HTML:
 *
 * <a class="button button-primary">
 */

button,
[type="button"],
[type="reset"],
[type="submit"],
a.button,
span.button {
    &.button-primary {
        @include setup.gradient-linear(var(--color-button-primary-grad-from), var(--color-button-primary-grad-to));

        @if setup.$button-border {
            border-color: var(--color-button-primary-border);
        }

        @if setup.$button-box-shadow {
            box-shadow: setup.$button-box-shadow var(--color-button-primary-shadow);
        }

        font-variation-settings: "wght" 700; // older browsers will just ignore this
        font-weight: 700; // to prevent faux bolding of variable font

        @if setup.$button-box-shadow {
            &:active {
                box-shadow: none;
            }
        }
    }
}

/**
 * Success buttons.
 *
 * Example HTML:
 *
 * <a class="button button-success">
 */

.button-success {
    --color-success-text-light: hsl(120, 60%, 38%);
    --color-success-text-dark: hsl(120, 60%, 30%);
    --color-success-text-extra-dark: hsl(120, 60%, 20%);

    @include setup.gradient-linear(var(--color-success-text-light), var(--color-success-text));

    @if setup.$button-border {
        border-color: var(--color-success-text-dark);
    }

    @if setup.$button-box-shadow {
        box-shadow: setup.$button-box-shadow var(--color-success-text-extra-dark);
    }

    color: var(--color-text-white-out);

    &:hover {
        filter: brightness(1.1);
        color: var(--color-text-white-out);
    }

    &:active {
        @if setup.$button-box-shadow {
            box-shadow: none;
        }

        filter: brightness(0.8);
        color: var(--color-text-white-out);
    }
}

@include setup.dark-mode {
    .button-success {
        --color-success-text-light: hsl(100, 60%, 53%);
        --color-success-text-dark: hsl(100, 60%, 45%);
        --color-success-text-extra-dark: hsl(100, 60%, 33%);

        color: var(--color-text-white-out);
    }
}

/**
 * Danger buttons.
 *
 * Example HTML:
 *
 * <a class="button button-danger">
 */

.button-danger {
    --color-error-text-light: hsl(4, 69%, 40%);
    --color-error-text-dark: hsl(4, 69%, 32%);
    --color-error-text-extra-dark: hsl(4, 69%, 25%);

    @include setup.gradient-linear(var(--color-error-text-light), var(--color-error-text));

    @if setup.$button-border {
        border-color: var(--color-error-text-dark);
    }

    @if setup.$button-box-shadow {
        box-shadow: setup.$button-box-shadow var(--color-error-text-extra-dark);
    }

    color: var(--color-text-white-out);

    &:hover {
        filter: brightness(1.2);
        color: var(--color-text-white-out);
    }

    &:active {
        @if setup.$button-box-shadow {
            box-shadow: none;
        }

        filter: brightness(0.8);
        color: var(--color-text-white-out);
    }
}

@include setup.dark-mode {
    .button-danger {
        --color-error-text-light: hsl(337, 100%, 63%);
        --color-error-text-dark: hsl(337, 100%, 54%);
        --color-error-text-extra-dark: hsl(337, 100%, 33%);

        color: var(--color-text-white-out);
    }
}

/**
 * Disabled button additional styling.
 */

/* purgecss start ignore */

button[disabled],
[type="button"][disabled],
[type="reset"][disabled],
[type="submit"][disabled],
.button.disabled {
    @include setup.gradient-linear(var(--color-button-grad-from), var(--color-button-grad-to));

    @if setup.$button-box-shadow {
        top: 0 !important;
    }
}

/* purgecss end ignore */
