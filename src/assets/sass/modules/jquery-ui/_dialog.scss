/* Dialog
   ========================================================================== */

/**
 * jQuery UI Dialog.
 *
 * Some classes and HTML elements generally added via JavaScript, more info -
 * https://jqueryui.com/dialog/
 *
 * Example HTML:
 *
 * <div class="ui-dialog ui-front ui-dialog-buttons ui-draggable">
 *     <div class="ui-dialog-titlebar">
 *         <span class="ui-dialog-title">Modal dialog example</span>
 *         <button class="ui-button ui-button-icon-only ui-dialog-titlebar-close">
 *             <span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span>
 *             <span class="ui-button-text">close</span>
 *         </button>
 *     </div>
 *     <div class="ui-dialog-content">
 *         Content
 *     </div>
 *     <div class="ui-dialog-buttonpane">
 *         <div class="ui-dialog-buttonset">
 *             <button class="ui-button ui-button-text-only">
 *                 <span class="ui-button-text">Cancel</span>
 *             </button>
 *             <button class="ui-button ui-button-text-only">
 *                 <span class="ui-button-text">Ok</span>
 *             </button>
 *         </div>
 *     </div>
 * </div>
 */

.ui-dialog {
    display: flex;
    position: absolute;
    top: 0;
    left: 0;
    flex-flow: column;
    max-width: 90vw;
    max-height: 90vh;
    padding: 0.25em;
    outline: 0;
    box-shadow: $standard-shadow;
    overflow: hidden;
    z-index: 1002;

    .ui-dialog-titlebar {
        position: relative;
        flex: none;
        padding: 0.5em 1em;
    }

    .ui-dialog-title {
        width: 90%;
        margin: 0.125em 0; // 2px / 16px
        float: left;
        text-overflow: ellipsis;
        white-space: nowrap;
        overflow: hidden;
    }

    .ui-dialog-titlebar-close {
        position: absolute;
        top: 50%;
        right: 0.25em;
        height: 20px;
        transform: translate(0, -50%);
        border-color: $color-border;
        box-shadow: none;

        &:hover {
            border-color: shade($color-button-border, 15%);
        }

        &:focus {
            border-color: $color-link-focus;
        }
    }

    .ui-dialog-content {
        position: relative;
        flex: 1 1 auto;
        padding: 0.5em 1em;
        border: 0;
        background: none;
        overflow: auto;
    }

    .ui-dialog-buttonpane {
        margin-top: 0.5em;
        padding: 0.5em;
        border-width: 1px 0 0;
        background-image: none;
        text-align: left;
    }

    .ui-dialog-buttonpane .ui-dialog-buttonset {
        float: right;
    }
}

@include dark-mode {
    .ui-dialog {
        box-shadow: $dark-standard-shadow;

        .ui-dialog-titlebar-close {
            border-color: $color-border;

            &:hover {
                border-color: shade($color-button-border, 15%);
            }

            &:focus {
                border-color: $dark-color-link-focus;
            }
        }
    }
}

/**
 * Change cursor when window is being dragged.
 */

.ui-draggable .ui-dialog-titlebar {
    cursor: move;
}
